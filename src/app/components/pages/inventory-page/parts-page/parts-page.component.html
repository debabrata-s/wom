<div class="content-wrapper">
    <!-- title for the page -->
    <div class="page-header">
        <app-page-title [pageTitle]="pageTitle"></app-page-title>
    </div>
    <div class="card card-secondary">
        <div class="toolbar">
            <div class="btn-group mr-2" role="group" aria-label="Basic example">
                <button type="button" class="btn  btn-outline-secondary btn-sm" [class.active]="viewMode == 'tab1'"
                    rel="tab1" (click)="viewMode ='tab1'"><i class="icon-list"></i> Table
                    View</button>
                <button type="button" class="btn btn-outline-secondary btn-sm" [class.active]="viewMode == 'tab2'"
                    rel="tab2" (click)="viewMode ='tab2'"><i class="icon-grid"></i> Grid
                    View</button>
            </div>
            <div class="d-inline">
                <i class="icon-magnifier" id="search-icon"></i>
                <input (keyup)="applyFilter($event.target.value)" class="search-input" placeholder="Search">
            </div>
            <div class="align-right">
                <div class="dropdown" style="display: inline;">
                    <button type="button" class="btn btn-icon" id="pageMenus" data-toggle="dropdown"
                        aria-haspopup="true" aria-expanded="false">
                        <i class="icon-options-vertical"></i>
                    </button>
                    <div class="dropdown-menu dropdown-menu-right" aria-labelledby="pageMenus">
                        <a *ngFor="let pageMenu of pageMenus" class="dropdown-item"
                            (click)="openPageMenu(pageMenu)">{{pageMenu}}</a>
                    </div>
                </div>
                <button type="button" class="btn btn-sm btn-danger btn-rounded btn-fw"
                    (click)="openPartForm()">Part</button>
            </div>
        </div>
    </div>
    <div class="card card-secondary">
        <div>
            <app-inventory-page></app-inventory-page>
        </div>
    </div>
    <!-- <div class="tab-slider--container" [ngSwitch]="viewMode">
        <div id="tab1" class="tab-slider--body" *ngSwitchCase="'tab1'"> -->
    <div class="card card-secondary">
        <div class="filterbar">
            <!-- <button type="button" class="btn btn-outline-secondary btn-rounded btn-sm"><i
                            class="icon-magic-wand" (click)="drawer.toggle();"></i>
                        Filter</button> -->
            <button mat-raised-button (click)="drawer.toggle();"><i class="icon-equalizer mr-1"></i>Filter</button>
            <!-- <div class="d-inline float-right input-group" style="width: 200px;">
                        <select class="custom-select" style="width: 200px; font-size: 0.85em;">
                            <option selected>Quick Filters</option>

                        </select>
                    </div> -->
            <button mat-raised-button class="float-right"><i class="icon-energy ml-2"></i>Quick Filter</button>
        </div>
    </div>
    <mat-drawer-container hasBackdrop="false" style="height: 100%;">
        <mat-drawer #drawer mode="push" position="start" style="width: 350px;">
            <div class="card">
                <div class="card-header">
                    <a id="close-btn" (click)="drawer.toggle()" style="color: #ff4d6b !important; cursor: pointer;">
                        <mat-icon>cancel</mat-icon>
                    </a>
                    <a (click)="drawer.toggle()" class="text-primary float-right" style="cursor: pointer;"><small>Save
                            Filter</small></a>
                </div>
                <div class="card-body">
                    <app-parts-filter [dataSource]="dataSource"></app-parts-filter>
                </div>
            </div>
        </mat-drawer>

        <div class="main-content">
            <!-- demo content -->
            <!-- <div class="col-12 grid-margin stretch-card"> -->
            <div class="card">
                <div class="dropdown mb-2 text-right">
                    <button type="button" class="btn btn-light btn-sm mr-2" style="padding:2px 10px;"
                        data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                        <small>Customize</small>
                    </button>
                    <div class="dropdown-menu p-2" aria-labelledby="dropdownMenuButton">
                        <div class="container" style="width: 500px; height: 200px;">
                            <div>
                                <p>Columns</p>
                            </div>
                            <table>
                                <tr>
                                    <td class="p-1"><input type="checkbox" [(ngModel)]="displayedColumns[0].show"
                                            (click)="$event.stopPropagation()"> {{displayedColumns[0].title}}
                                    </td>
                                    <td class="p-1"><input type="checkbox" [(ngModel)]="displayedColumns[1].show"
                                            (click)="$event.stopPropagation()"> {{displayedColumns[1].title}}
                                    </td>
                                    <td class="p-1"><input type="checkbox" [(ngModel)]="displayedColumns[2].show"
                                            (click)="$event.stopPropagation()"> {{displayedColumns[2].title}}
                                    </td>
                                </tr>
                                <tr>
                                    <td class="p-1"><input type="checkbox" [(ngModel)]="displayedColumns[3].show"
                                            (click)="$event.stopPropagation()"> {{displayedColumns[3].title}}
                                    </td>
                                    <td class="p-1"><input type="checkbox" [(ngModel)]="displayedColumns[4].show"
                                            (click)="$event.stopPropagation()"> {{displayedColumns[4].title}}
                                    </td>
                                    <td class="p-1"><input type="checkbox" [(ngModel)]="displayedColumns[5].show"
                                            (click)="$event.stopPropagation()"> {{displayedColumns[5].title}}
                                    </td>
                                </tr>
                                <tr>
                                    <td class="p-1"><input type="checkbox" [(ngModel)]="displayedColumns[6].show"
                                            (click)="$event.stopPropagation()"> {{displayedColumns[6].title}}
                                    </td>
                                    <td class="p-1"><input type="checkbox" [(ngModel)]="displayedColumns[7].show"
                                            (click)="$event.stopPropagation()"> {{displayedColumns[7].title}}
                                    </td>
                                    <td class="p-1"><input type="checkbox" [(ngModel)]="displayedColumns[8].show"
                                            (click)="$event.stopPropagation()"> {{displayedColumns[8].title}}
                                    </td>
                                </tr>
                                <tr>
                                    <td class="p-1"><input type="checkbox" [(ngModel)]="displayedColumns[9].show"
                                            (click)="$event.stopPropagation()"> {{displayedColumns[9].title}}
                                    </td>
                                    <td class="p-1"><input type="checkbox" [(ngModel)]="displayedColumns[10].show"
                                            (click)="$event.stopPropagation()"> {{displayedColumns[10].title}}
                                    </td>
                                    <td class="p-1"><input type="checkbox" [(ngModel)]="displayedColumns[11].show"
                                            (click)="$event.stopPropagation()"> {{displayedColumns[11].title}}
                                    </td>
                                </tr>
                                <tr>
                                    <td class="p-1"><input type="checkbox" [(ngModel)]="displayedColumns[12].show"
                                            (click)="$event.stopPropagation()"> {{displayedColumns[12].title}}
                                    </td>
                                </tr>

                            </table>

                        </div>
                        <div></div>
                        <!-- <div class="checkbox" *ngFor="let option of displayedColumns">
                                        <label class="text-muted"><input type="checkbox" [(ngModel)]="option.show"
                                                (click)="$event.stopPropagation()"> {{option.title}}</label>
                                    </div> -->
                    </div>
                </div>
                <!-- open details drawer -->
                <div class="data-table p-2">
                    <table mat-table [dataSource]="dataSource" matSort>



                        <!-- Position Column -->
                        <ng-container matColumnDef="Title">
                            <th mat-header-cell *matHeaderCellDef mat-sort-header>Name</th>
                            <td mat-cell *matCellDef="let element"> {{element.Title}}
                            </td>
                        </ng-container>
                        <ng-container matColumnDef="id">
                            <th mat-header-cell *matHeaderCellDef mat-sort-header>ID</th>
                            <td mat-cell *matCellDef="let element"> {{element.id}} </td>
                        </ng-container>

                        <ng-container matColumnDef="Quantity">
                            <th mat-header-cell *matHeaderCellDef mat-sort-header>Quantity</th>
                            <td mat-cell *matCellDef="let element"> {{element.Quantity}} </td>
                        </ng-container>
                        <ng-container matColumnDef="Cost">
                            <th mat-header-cell *matHeaderCellDef mat-sort-header>Cost</th>
                            <td mat-cell *matCellDef="let element"> {{element.Cost | number:'1.2'}} </td>
                        </ng-container>
                        <ng-container matColumnDef="Barcode">
                            <th mat-header-cell *matHeaderCellDef mat-sort-header>Barcode</th>
                            <td mat-cell *matCellDef="let element"> {{element.Barcode}} </td>
                        </ng-container>
                        <ng-container matColumnDef="Area">
                            <th mat-header-cell *matHeaderCellDef mat-sort-header>Area</th>
                            <td mat-cell *matCellDef="let element"> {{element.Area}} </td>
                        </ng-container>
                        <ng-container matColumnDef="Category">
                            <th mat-header-cell *matHeaderCellDef mat-sort-header>Category</th>
                            <td mat-cell *matCellDef="let element"> {{element.Category}} </td>
                        </ng-container>
                        <ng-container matColumnDef="Description">
                            <th mat-header-cell *matHeaderCellDef mat-sort-header>Description</th>
                            <td mat-cell *matCellDef="let element"> {{element.Description}} </td>
                        </ng-container>
                        <ng-container matColumnDef="LocationName">
                            <th mat-header-cell *matHeaderCellDef mat-sort-header>Location</th>
                            <td mat-cell *matCellDef="let element"> {{element.LocationName}} </td>
                        </ng-container>
                        <ng-container matColumnDef="WorkerTitle">
                            <th mat-header-cell *matHeaderCellDef mat-sort-header>Assigned Users</th>
                            <td mat-cell *matCellDef="let element">
                                <span
                                    *ngIf="element.WorkerTitle===undefined||element.WorkerTitle.trim()==='';else worker"
                                    class="pl-2">N/A</span>

                                <ng-template #worker>{{element.WorkerTitle}}</ng-template>
                            </td>
                        </ng-container>
                        <ng-container matColumnDef="VendorName">
                            <th mat-header-cell *matHeaderCellDef mat-sort-header>Assigned Vendors</th>
                            <td mat-cell *matCellDef="let element">
                                <span *ngIf="element.VendorName===undefined;else vendor" class="pl-2">N/A</span>
                                <ng-template #vendor>{{element.VendorName}}</ng-template>
                            </td>
                        </ng-container>
                        <!-- <ng-container matColumnDef="WorkerTitle">
                                    <th mat-header-cell *matHeaderCellDef mat-sort-header>Assigned User</th>
                                    <td mat-cell *matCellDef="let element"> {{element.WorkerTitle}} </td>
                                </ng-container>
                                <ng-container matColumnDef="VendorName">
                                    <th mat-header-cell *matHeaderCellDef mat-sort-header>Vendor</th>
                                    <td mat-cell *matCellDef="let element"> {{element.VendorName}} </td>
                                </ng-container> -->
                        <ng-container matColumnDef="created_at">
                            <th mat-header-cell *matHeaderCellDef mat-sort-header>Date Created</th>
                            <td mat-cell *matCellDef="let element">
                                {{element.created_at | date: 'MM/dd/yyyy'}}
                            </td>
                        </ng-container>
                        <ng-container matColumnDef="openWorkOrder">
                            <th mat-header-cell *matHeaderCellDef mat-sort-header>Open Work Orders</th>
                            <td mat-cell *matCellDef="let element"> {{element.openWorkOrder}} </td>
                        </ng-container>
                        <ng-container matColumnDef="TeamId">
                            <th mat-header-cell *matHeaderCellDef mat-sort-header>Team Id</th>
                            <td mat-cell *matCellDef="let element"> {{element.TeamId}} </td>
                        </ng-container>
                        <ng-container matColumnDef="CustomerId">
                            <th mat-header-cell *matHeaderCellDef mat-sort-header>Customer Id</th>
                            <td mat-cell *matCellDef="let element"> {{element.CustomerId}} </td>
                        </ng-container>
                        <ng-container matColumnDef="VendorId">
                            <th mat-header-cell *matHeaderCellDef mat-sort-header>Vendor Id</th>
                            <td mat-cell *matCellDef="let element"> {{element.VendorId}} </td>
                        </ng-container>

                        <ng-container matColumnDef="NonStock">
                            <th mat-header-cell *matHeaderCellDef mat-sort-header>Non Stock</th>
                            <td mat-cell *matCellDef="let element"> {{element.Nonstock}} </td>
                        </ng-container>



                        <tr mat-header-row *matHeaderRowDef="getDisplayedColumns();"></tr>
                        <!-- <tr mat-row *matRowDef="let row; columns: displayedColumns;" (click)="selection.toggle(row)"> -->
                        <tr mat-row *matRowDef="let row; columns: getDisplayedColumns();"
                            (click)="openPartDetails(row.id);">

                        </tr>
                    </table>
                </div>

                <mat-paginator pageSize="15" [pageSizeOptions]="[5, 10, 15, 20]" showFirstLastButtons>
                </mat-paginator>
            </div>
            <!-- </div> -->
        </div>
    </mat-drawer-container>
    <!-- </div>
    </div>
    <div class="tab-slider--container" [ngSwitch]="viewMode">
        <div id="tab2" class="tab-slider--body" *ngSwitchCase="'tab2'">
            <div class="card card-secondary">

            </div>
        </div>
    </div> -->
</div>